# 主从复制

## 目标

1. 减少复制过程中的内存开销
   - 不缓冲 aof
   - 同一时间的脏页少
   - 边序列化边传输
1. 减少复制过程中的 io 开销
   - 不进行磁盘快照
   - 传递的数据格式小
1. 速度快
   - 不进行磁盘快照
   - 不缓冲 aof
   - 断开连接和切换 master 部分重同步

## 主要流程

@import "replication.puml"
