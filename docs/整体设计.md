# 整体设计

## 模块

1. client connect
   - 普通连接
   - 主从连接
1. 命令解析
1. 命令执行
   - 正常执行
   - slot 迁移
1. 异步 task
   - 自动过期 task
   - 写命令转发 task
   - 性能监控 task
   - 持久化 task
   - 主从复制 task
   - 子进程事件 task
1. 管理，协调，监控 模块

## 存储

1. 一个 db 有多个 slot
1. slot 之间可以并发
1. slot 内部，只有涉及到存取数据的时候最小加锁
